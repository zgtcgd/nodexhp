const _0x4cdb15=_0x1c6f;(function(_0x53aba9,_0x24ab6c){const _0x2967e4=_0x1c6f,_0x5445f3=_0x53aba9();while(!![]){try{const _0x50dfa3=-parseInt(_0x2967e4(0x232))/0x1*(parseInt(_0x2967e4(0x231))/0x2)+-parseInt(_0x2967e4(0x292))/0x3*(-parseInt(_0x2967e4(0x22e))/0x4)+-parseInt(_0x2967e4(0x26d))/0x5+parseInt(_0x2967e4(0x1c7))/0x6+-parseInt(_0x2967e4(0x2be))/0x7*(parseInt(_0x2967e4(0x249))/0x8)+-parseInt(_0x2967e4(0x1ec))/0x9*(parseInt(_0x2967e4(0x1d9))/0xa)+-parseInt(_0x2967e4(0x1c2))/0xb*(-parseInt(_0x2967e4(0x1e3))/0xc);if(_0x50dfa3===_0x24ab6c)break;else _0x5445f3['push'](_0x5445f3['shift']());}catch(_0x383539){_0x5445f3['push'](_0x5445f3['shift']());}}}(_0x2aa5,0xeb48b));const FILE_PATH=process[_0x4cdb15(0x24c)]['FILE_PATH']||'/tmp',intervalInseconds=process['env'][_0x4cdb15(0x2a2)]||0x64,PORT=process[_0x4cdb15(0x24c)][_0x4cdb15(0x1d0)]||0xbb8,CFPORT=process['env'][_0x4cdb15(0x1bf)]||0x1bb,CFIP=process[_0x4cdb15(0x24c)]['CFIP']||'ip.sb',KEEPALIVE=(process['env'][_0x4cdb15(0x211)]||_0x4cdb15(0x222))===_0x4cdb15(0x26b),HTTPSTLS=(process[_0x4cdb15(0x24c)][_0x4cdb15(0x2af)]||'true')==='true',SUB_URL=process[_0x4cdb15(0x24c)][_0x4cdb15(0x2b6)]||'',UUID=process[_0x4cdb15(0x24c)]['UUID']||_0x4cdb15(0x1f8),XPATH=process['env'][_0x4cdb15(0x290)]||UUID[_0x4cdb15(0x1f4)](0x0,0x8),NEZHA_VERSION=process[_0x4cdb15(0x24c)]['NEZHA_VERSION']||'V0',NEZHA_SERVER=process[_0x4cdb15(0x24c)][_0x4cdb15(0x1bc)]||'',NEZHA_PORT=process[_0x4cdb15(0x24c)][_0x4cdb15(0x295)]||'443',NEZHA_KEY=process['env'][_0x4cdb15(0x1de)]||'',SUB_NAME=process[_0x4cdb15(0x24c)][_0x4cdb15(0x203)]||'',MY_DOMAIN=process[_0x4cdb15(0x24c)][_0x4cdb15(0x212)]||'',LOCAL_DOMAIN=process[_0x4cdb15(0x24c)]['LOCAL_DOMAIN']||'',os=require('os'),fs=require('fs'),net=require(_0x4cdb15(0x2bb)),path=require(_0x4cdb15(0x1ba)),http=require('http'),https=require('https'),axios=require('axios'),{pipeline}=require('stream/promises'),{Buffer}=require(_0x4cdb15(0x1f5)),exec=require(_0x4cdb15(0x1fb))['exec'],delay=_0x5d5667=>new Promise(_0x4a5903=>setTimeout(_0x4a5903,_0x5d5667)),SETTINGS={[_0x4cdb15(0x2a1)]:UUID,[_0x4cdb15(0x1cf)]:_0x4cdb15(0x23a),[_0x4cdb15(0x1c4)]:'2048',[_0x4cdb15(0x290)]:_0x4cdb15(0x287)+XPATH,['MAX_BUFFERED_POSTS']:0x1e,[_0x4cdb15(0x214)]:0xf4240,[_0x4cdb15(0x20b)]:0x7530,[_0x4cdb15(0x1e0)]:0x400*0x400,['TCP_NODELAY']:!![],[_0x4cdb15(0x251)]:!![]};function validate_uuid(_0x4f3a40,_0x2a6197){for(let _0x31002a=0x0;_0x31002a<0x10;_0x31002a++){if(_0x4f3a40[_0x31002a]!==_0x2a6197[_0x31002a])return![];}return!![];}function concat_typed_arrays(_0x4c29a1,..._0x4c87bf){const _0x30f9ee=_0x4cdb15;if(!_0x4c87bf||_0x4c87bf['length']<0x1)return _0x4c29a1;let _0x5b2464=_0x4c29a1['length'];for(let _0x24221e of _0x4c87bf)_0x5b2464+=_0x24221e[_0x30f9ee(0x1f6)];const _0x4b4f57=new _0x4c29a1[(_0x30f9ee(0x288))](_0x5b2464);_0x4b4f57[_0x30f9ee(0x1d7)](_0x4c29a1,0x0),_0x5b2464=_0x4c29a1[_0x30f9ee(0x1f6)];for(let _0x4a6651 of _0x4c87bf){_0x4b4f57[_0x30f9ee(0x1d7)](_0x4a6651,_0x5b2464),_0x5b2464+=_0x4a6651[_0x30f9ee(0x1f6)];}return _0x4b4f57;}function log(_0x1b20bc,..._0x5c7b6b){const _0x39e746=_0x4cdb15;if(SETTINGS[_0x39e746(0x1cf)]==='none')return;const _0x102330={'debug':0x0,'info':0x1,'warn':0x2,'error':0x3},_0x274444={'debug':_0x39e746(0x2a5),'info':_0x39e746(0x1c3),'warn':_0x39e746(0x241),'error':_0x39e746(0x1b0),'reset':'\x1b[0m'},_0x2eb2ca=_0x102330[SETTINGS[_0x39e746(0x1cf)]]||0x1,_0x4ef0cb=_0x102330[_0x1b20bc]||0x0;if(_0x4ef0cb>=_0x2eb2ca){const _0x38f9f3=new Date()['toISOString'](),_0x4b0d7d=_0x274444[_0x1b20bc]||_0x274444[_0x39e746(0x26c)];console[_0x39e746(0x1be)](_0x4b0d7d+'['+_0x38f9f3+_0x39e746(0x27f)+_0x1b20bc+']',..._0x5c7b6b,_0x274444[_0x39e746(0x26c)]);}}function createFolder(_0x3279a8){const _0x13d3c6=_0x4cdb15;if(!fs[_0x13d3c6(0x27b)](_0x3279a8))fs[_0x13d3c6(0x29f)](_0x3279a8);else{}}function execPromise(_0x34984f,_0x309e3e={}){return new Promise((_0xe429b4,_0xe024f3)=>{const _0x35e1bf=exec(_0x34984f,_0x309e3e,(_0xcb7b5b,_0x5968b8,_0x5c7ca1)=>{const _0x31fe6d=_0x1c6f;if(_0xcb7b5b){const _0x18c057=new Error(_0x31fe6d(0x23d)+_0xcb7b5b[_0x31fe6d(0x1b2)]);_0x18c057[_0x31fe6d(0x1c9)]=_0xcb7b5b[_0x31fe6d(0x1c9)],_0x18c057[_0x31fe6d(0x2b7)]=_0x5c7ca1[_0x31fe6d(0x1fc)](),_0xe024f3(_0x18c057);}else _0xe429b4(_0x5968b8[_0x31fe6d(0x1fc)]());});});}async function detectProcess(_0x32ad22){const _0x44f28a=_0x4cdb15,_0x517e0a=[{'cmd':_0x44f28a(0x213)+_0x32ad22+'\x22','name':_0x44f28a(0x2b1)},{'cmd':_0x44f28a(0x273)+_0x32ad22+'\x22','name':'pgrep'},{'cmd':_0x44f28a(0x1bb)+_0x32ad22+_0x44f28a(0x1b9),'name':'ps+awk'}];for(const _0x8cd583 of _0x517e0a){try{const _0x4e4962=await execPromise(_0x8cd583['cmd']);if(_0x4e4962)return _0x4e4962['replace'](/\n/g,'\x20')[_0x44f28a(0x1fc)]();}catch(_0x3eb953){_0x3eb953['code']!==0x7f&&_0x3eb953[_0x44f28a(0x1c9)]!==0x1&&console['debug'](_0x44f28a(0x1f0)+_0x8cd583[_0x44f28a(0x223)]+'\x20error:',_0x3eb953[_0x44f28a(0x1b2)]);}}return'';}async function killProcess(_0x41f7a3){const _0x4375c3=_0x4cdb15;console[_0x4375c3(0x1be)](_0x4375c3(0x1e9)+_0x41f7a3);try{const _0x64b64a=await detectProcess(_0x41f7a3);if(!_0x64b64a)return console[_0x4375c3(0x262)](_0x4375c3(0x1ee)+_0x41f7a3+_0x4375c3(0x1d5)),{'success':!![],'message':_0x4375c3(0x2a0)};await execPromise('kill\x20-9\x20'+_0x64b64a);const _0x4096be=_0x4375c3(0x1c1)+_0x64b64a+')';return console['log'](_0x4096be),{'success':!![],'message':_0x4096be};}catch(_0x442eba){const _0x440c7f=_0x4375c3(0x280)+_0x442eba[_0x4375c3(0x1b2)];return console['error'](_0x440c7f),{'success':![],'message':_0x440c7f};}}function generateRandomString(_0x199775){const _0x770ae6=_0x4cdb15,_0x8352af=_0x770ae6(0x25a);let _0x543e86='';for(let _0x4d4842=0x0;_0x4d4842<_0x199775;_0x4d4842++){_0x543e86+=_0x8352af['charAt'](Math[_0x770ae6(0x278)](Math['random']()*_0x8352af[_0x770ae6(0x1f6)]));}return _0x543e86;}function getSystemArchitecture(){const _0x571e36=_0x4cdb15,_0x49df25=os['arch']();return _0x49df25===_0x571e36(0x259)||_0x49df25===_0x571e36(0x1b5)||_0x49df25===_0x571e36(0x1b1)?_0x571e36(0x259):_0x571e36(0x27d);}function getFilesForArchitecture(_0x1d0bd3){const _0x27a46d=_0x4cdb15,_0x260645={'app':{'V0':{'arm':_0x27a46d(0x1fd),'amd':_0x27a46d(0x234)},'V1':{'arm':_0x27a46d(0x25b),'amd':_0x27a46d(0x2a3)}}};if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x41ea20=[{'fileName':_0x27a46d(0x252)+generateRandomString(0x5),'originalName':_0x27a46d(0x2ac),'fileUrl':_0x260645['app'][NEZHA_VERSION][_0x1d0bd3]}];return _0x41ea20;}else return[];}async function download_function(_0x1e1a4a,_0x423770,_0x85434f){const _0x3ebd94=_0x4cdb15,_0x44d46c=path['join'](FILE_PATH,_0x1e1a4a);let _0x200478=![];try{const _0x446769=await axios({'method':_0x3ebd94(0x2c9),'url':_0x85434f,'responseType':'stream'});await pipeline(_0x446769['data'],fs[_0x3ebd94(0x235)](_0x44d46c)),_0x200478=!![];}catch(_0x1517cc){}return{'fileName':_0x1e1a4a,'originalName':_0x423770,'filePath':_0x44d46c,'success':_0x200478};}let fileMapping={};async function downloadFiles(){const _0x5d875c=_0x4cdb15;try{const _0x59b33d=getSystemArchitecture();if(!_0x59b33d)return console[_0x5d875c(0x1be)](_0x5d875c(0x2c5)),fileMapping;const _0x1828a0=getFilesForArchitecture(_0x59b33d);if(_0x1828a0['length']===0x0)return console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'),fileMapping;const _0x23e463=_0x1828a0[_0x5d875c(0x2aa)](_0x23c71e=>download_function(_0x23c71e[_0x5d875c(0x299)],_0x23c71e['originalName'],_0x23c71e['fileUrl'])),_0x426e21=await Promise[_0x5d875c(0x1e5)](_0x23e463);return _0x426e21[_0x5d875c(0x258)](_0x2d839a=>{const _0x2fc902=_0x5d875c;if(_0x2d839a[_0x2fc902(0x2a6)])try{fs[_0x2fc902(0x25f)](_0x2d839a[_0x2fc902(0x2b4)],0x1ed),fileMapping[_0x2d839a[_0x2fc902(0x29b)]]=_0x2d839a[_0x2fc902(0x299)];}catch(_0x3e8640){}}),fileMapping;}catch(_0x590896){return console[_0x5d875c(0x28f)](_0x5d875c(0x1e7),_0x590896),fileMapping;}}let NEZHA_TLS;function _0x1c6f(_0x38d747,_0x53977d){const _0x2aa561=_0x2aa5();return _0x1c6f=function(_0x1c6f0b,_0x274466){_0x1c6f0b=_0x1c6f0b-0x1b0;let _0x321bb3=_0x2aa561[_0x1c6f0b];return _0x321bb3;},_0x1c6f(_0x38d747,_0x53977d);}function nezconfig(){const _0x5553cd=_0x4cdb15,_0x2e95ea=[_0x5553cd(0x25e),_0x5553cd(0x2c8),_0x5553cd(0x2ba),'2087','2083',_0x5553cd(0x26e)];if(NEZHA_VERSION==='V0')return _0x2e95ea[_0x5553cd(0x2a9)](NEZHA_PORT)?NEZHA_TLS=_0x5553cd(0x22c):NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x2e95ea[_0x5553cd(0x2a9)](NEZHA_PORT)?NEZHA_TLS=_0x5553cd(0x26b):NEZHA_TLS=_0x5553cd(0x222);const _0x26b5d1=path[_0x5553cd(0x218)](FILE_PATH,'/config.yml'),_0x1901fe=_0x5553cd(0x1e6)+NEZHA_KEY+_0x5553cd(0x27c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5553cd(0x240)+NEZHA_TLS+_0x5553cd(0x23e)+UUID;try{fs[_0x5553cd(0x242)](_0x26b5d1,_0x1901fe);}catch(_0x388842){}}}}async function runapp(){const _0x5d4c3c=_0x4cdb15;if(fileMapping[_0x5d4c3c(0x2ac)]&&fs[_0x5d4c3c(0x27b)](path[_0x5d4c3c(0x218)](FILE_PATH,fileMapping['app']))){if(NEZHA_VERSION==='V0'){const _0x52c4d5=_0x5d4c3c(0x28b)+FILE_PATH+'/'+fileMapping[_0x5d4c3c(0x2ac)]+_0x5d4c3c(0x2c0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5d4c3c(0x253)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x5d4c3c(0x1fa);try{await execPromise(_0x52c4d5);}catch(_0x3fe0f5){console[_0x5d4c3c(0x28f)](fileMapping[_0x5d4c3c(0x2ac)]+_0x5d4c3c(0x1d3)+_0x3fe0f5);}}else{if(NEZHA_VERSION==='V1'){const _0x3d00f0=_0x5d4c3c(0x28b)+FILE_PATH+'/'+fileMapping[_0x5d4c3c(0x2ac)]+_0x5d4c3c(0x1e2)+FILE_PATH+_0x5d4c3c(0x229);try{await execPromise(_0x3d00f0);}catch(_0x3caeff){console[_0x5d4c3c(0x28f)](fileMapping['app']+_0x5d4c3c(0x1d3)+_0x3caeff);}}}}else console[_0x5d4c3c(0x1be)](_0x5d4c3c(0x1f1));}async function run(){const _0x4c0f42=_0x4cdb15;if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){nezconfig();const _0x4ded3b=await detectProcess(''+fileMapping[_0x4c0f42(0x2ac)]);if(_0x4ded3b){}else await runapp();await delay(0x3e8);}else console[_0x4c0f42(0x1be)]('Node\x20variable\x20is\x20empty,\x20skip\x20running');}async function keep_alive(){const _0x3af494=_0x4cdb15;if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x54ecfb=await detectProcess(''+fileMapping[_0x3af494(0x2ac)]);if(_0x54ecfb){}else await runapp();}}function parse_uuid(_0x1a8d30){const _0x531f04=_0x4cdb15;_0x1a8d30=_0x1a8d30[_0x531f04(0x24b)]('-','');const _0x4da4c1=[];for(let _0x1a4d8c=0x0;_0x1a4d8c<0x10;_0x1a4d8c++){_0x4da4c1[_0x531f04(0x296)](parseInt(_0x1a8d30[_0x531f04(0x275)](_0x1a4d8c*0x2,0x2),0x10));}return _0x4da4c1;}async function read_vless_header(_0x2fbb16,_0xd7c4a1){const _0x18c2a1=_0x4cdb15;let _0x472e95=0x0,_0x3f826d=new Uint8Array(),_0x4dce20={'value':_0x3f826d,'done':![]};async function _0x25ba1a(_0x5b1fc0){const _0x33eb65=_0x1c6f;if(_0x4dce20[_0x33eb65(0x1c0)])throw new Error(_0x33eb65(0x21a));const _0x1a0428=_0x5b1fc0-_0x472e95;if(_0x1a0428<0x1)return;_0x4dce20=await read_atleast(_0x2fbb16,_0x1a0428),_0x472e95+=_0x4dce20[_0x33eb65(0x2c4)]['length'],_0x3f826d=concat_typed_arrays(_0x3f826d,_0x4dce20[_0x33eb65(0x2c4)]);}await _0x25ba1a(0x1+0x10+0x1);const _0x31982d=_0x3f826d[0x0],_0x5c2fb2=_0x3f826d[_0x18c2a1(0x1f4)](0x1,0x1+0x10),_0x362f3c=parse_uuid(_0xd7c4a1);if(!validate_uuid(_0x5c2fb2,_0x362f3c))throw new Error(_0x18c2a1(0x247));const _0x460f2b=_0x3f826d[0x1+0x10],_0x5a855f=0x1+0x10+0x1+_0x460f2b+0x1+0x2+0x1;await _0x25ba1a(_0x5a855f+0x1);const _0x1ad16d=_0x3f826d[0x1+0x10+0x1+_0x460f2b],_0x304f6f=0x1;if(_0x1ad16d!==_0x304f6f)throw new Error('unsupported\x20command:\x20'+_0x1ad16d);const _0x50ed23=(_0x3f826d[_0x5a855f-0x1-0x2]<<0x8)+_0x3f826d[_0x5a855f-0x1-0x1],_0x5d615d=_0x3f826d[_0x5a855f-0x1],_0x5c384d=0x1,_0x26acef=0x2,_0x39fcc5=0x3;let _0xe4b45f=-0x1;if(_0x5d615d===_0x5c384d)_0xe4b45f=_0x5a855f+0x4;else{if(_0x5d615d===_0x39fcc5)_0xe4b45f=_0x5a855f+0x10;else _0x5d615d===_0x26acef&&(_0xe4b45f=_0x5a855f+0x1+_0x3f826d[_0x5a855f]);}if(_0xe4b45f<0x0)throw new Error(_0x18c2a1(0x1f3));await _0x25ba1a(_0xe4b45f);const _0x444f61=_0x5a855f;let _0x2fbc21='';if(_0x5d615d===_0x5c384d)_0x2fbc21=_0x3f826d[_0x18c2a1(0x1f4)](_0x444f61,_0x444f61+0x4)[_0x18c2a1(0x218)]('.');else{if(_0x5d615d===_0x26acef)_0x2fbc21=new TextDecoder()[_0x18c2a1(0x1cb)](_0x3f826d[_0x18c2a1(0x1f4)](_0x444f61+0x1,_0x444f61+0x1+_0x3f826d[_0x444f61]));else _0x5d615d===_0x39fcc5&&(_0x2fbc21=_0x3f826d[_0x18c2a1(0x1f4)](_0x444f61,_0x444f61+0x10)['reduce']((_0x5a4fbd,_0x4ee5cd,_0x31b892,_0x162f3b)=>_0x31b892%0x2?_0x5a4fbd[_0x18c2a1(0x1ff)](((_0x162f3b[_0x31b892-0x1]<<0x8)+_0x4ee5cd)[_0x18c2a1(0x1b4)](0x10)):_0x5a4fbd,[])[_0x18c2a1(0x218)](':'));}if(!_0x2fbc21){log(_0x18c2a1(0x28f),_0x18c2a1(0x215));throw new Error(_0x18c2a1(0x297));}return log(_0x18c2a1(0x201),'VLESS\x20connection\x20to\x20'+_0x2fbc21+':'+_0x50ed23),{'hostname':_0x2fbc21,'port':_0x50ed23,'data':_0x3f826d[_0x18c2a1(0x1f4)](_0xe4b45f),'resp':new Uint8Array([_0x31982d,0x0])};}async function read_atleast(_0x1cfd93,_0x4f4310){const _0x43a972=_0x4cdb15,_0x5b8615=[];let _0x2e0f9a=![];while(_0x4f4310>0x0&&!_0x2e0f9a){const _0x139baf=await _0x1cfd93[_0x43a972(0x1ce)]();if(_0x139baf[_0x43a972(0x2c4)]){const _0x1fb258=new Uint8Array(_0x139baf[_0x43a972(0x2c4)]);_0x5b8615['push'](_0x1fb258),_0x4f4310-=_0x1fb258[_0x43a972(0x1f6)];}_0x2e0f9a=_0x139baf[_0x43a972(0x1c0)];}if(_0x4f4310>0x0)throw new Error('not\x20enough\x20data\x20to\x20read');return{'value':concat_typed_arrays(..._0x5b8615),'done':_0x2e0f9a};}async function parse_header(_0x27d8b3,_0x27c00e){const _0xa6498a=_0x4cdb15;log(_0xa6498a(0x2ae),_0xa6498a(0x1ed));const _0x4e7332=_0x27c00e[_0xa6498a(0x1e4)][_0xa6498a(0x1ef)]();try{const _0x57ca67=await read_vless_header(_0x4e7332,_0x27d8b3);return log(_0xa6498a(0x2ae),'VLESS\x20header\x20parsed\x20successfully'),_0x57ca67;}catch(_0xba28bb){log(_0xa6498a(0x28f),'VLESS\x20header\x20parse\x20error:\x20'+_0xba28bb[_0xa6498a(0x1b2)]);throw new Error(_0xa6498a(0x254)+_0xba28bb[_0xa6498a(0x1b2)]);}finally{_0x4e7332['releaseLock']();}}async function connect_remote(_0x30aaea,_0x4f16f5){const _0x457e30=_0x4cdb15,_0x208643=0x1f40;try{const _0x38ae9a=await timed_connect(_0x30aaea,_0x4f16f5,_0x208643);return _0x38ae9a[_0x457e30(0x269)](!![]),_0x38ae9a[_0x457e30(0x28a)](!![],0x3e8),_0x38ae9a[_0x457e30(0x24a)]=parseInt(SETTINGS[_0x457e30(0x1c4)])*0x400,log(_0x457e30(0x201),_0x457e30(0x250)+_0x30aaea+':'+_0x4f16f5),_0x38ae9a;}catch(_0xbf6910){log(_0x457e30(0x28f),_0x457e30(0x20f)+_0xbf6910[_0x457e30(0x1b2)]);throw _0xbf6910;}}function timed_connect(_0x3cca18,_0x5ed1e3,_0x273600){return new Promise((_0x15911a,_0x6e6af8)=>{const _0x145548=_0x1c6f,_0x4882dc=net[_0x145548(0x285)]({'host':_0x3cca18,'port':_0x5ed1e3}),_0x1e665c=setTimeout(()=>{const _0x102beb=_0x145548;_0x6e6af8(new Error(_0x102beb(0x22d)));},_0x273600);_0x4882dc['on'](_0x145548(0x1ea),()=>{clearTimeout(_0x1e665c),_0x15911a(_0x4882dc);}),_0x4882dc['on']('error',_0x3ca093=>{clearTimeout(_0x1e665c),_0x6e6af8(_0x3ca093);});});}function pipe_relay(){async function _0x4b2e63(_0x1dee15,_0x355f27,_0x2d3b97){const _0x28ee19=_0x1c6f,_0x409520=parseInt(SETTINGS['CHUNK_SIZE']);if(_0x2d3b97[_0x28ee19(0x1f6)]>0x0){if(_0x355f27['write'])_0x355f27[_0x28ee19(0x2c7)](),_0x355f27[_0x28ee19(0x209)](_0x2d3b97),process[_0x28ee19(0x2b5)](()=>_0x355f27['uncork']());else{const _0x5b7e77=_0x355f27[_0x28ee19(0x264)]['getWriter']();try{await _0x5b7e77[_0x28ee19(0x209)](_0x2d3b97);}finally{_0x5b7e77[_0x28ee19(0x2ad)]();}}}try{_0x1dee15[_0x28ee19(0x256)]?(_0x1dee15[_0x28ee19(0x260)](),_0x1dee15[_0x28ee19(0x256)](_0x355f27,{'end':!![],'highWaterMark':_0x409520}),_0x1dee15[_0x28ee19(0x2b0)]()):await _0x1dee15[_0x28ee19(0x1e4)][_0x28ee19(0x25d)](_0x355f27[_0x28ee19(0x264)],{'preventClose':![],'preventAbort':![],'preventCancel':![],'signal':AbortSignal[_0x28ee19(0x255)](SETTINGS[_0x28ee19(0x20b)])});}catch(_0x12f5c8){!_0x12f5c8[_0x28ee19(0x1b2)][_0x28ee19(0x2a9)](_0x28ee19(0x29d))&&log(_0x28ee19(0x28f),_0x28ee19(0x27a),_0x12f5c8['message']);throw _0x12f5c8;}}return _0x4b2e63;}function socketToWebStream(_0x224242){const _0x89f638=_0x4cdb15;let _0x28dae0,_0x2402f9;return _0x224242['on'](_0x89f638(0x28f),_0x50f6bb=>{const _0x10350b=_0x89f638;log(_0x10350b(0x28f),_0x10350b(0x23c),_0x50f6bb[_0x10350b(0x1b2)]),_0x28dae0?.[_0x10350b(0x28f)](_0x50f6bb),_0x2402f9?.['error'](_0x50f6bb);}),{'readable':new ReadableStream({'start'(_0xc19810){const _0x2d088a=_0x89f638;_0x28dae0=_0xc19810,_0x224242['on'](_0x2d088a(0x1b6),_0x4432a0=>{const _0x12f04c=_0x2d088a;try{_0xc19810[_0x12f04c(0x2a4)](_0x4432a0);}catch(_0x25ee59){log(_0x12f04c(0x28f),_0x12f04c(0x21b),_0x25ee59[_0x12f04c(0x1b2)]);}}),_0x224242['on'](_0x2d088a(0x1c5),()=>{const _0x53476e=_0x2d088a;try{_0xc19810[_0x53476e(0x291)]();}catch(_0x15119e){log(_0x53476e(0x28f),_0x53476e(0x200),_0x15119e['message']);}});},'cancel'(){const _0x2e97c0=_0x89f638;_0x224242[_0x2e97c0(0x2ab)]();}}),'writable':new WritableStream({'start'(_0x3125b1){_0x2402f9=_0x3125b1;},'write'(_0x202f5f){return new Promise((_0x5a7cbe,_0x45a9ef)=>{const _0x2b23db=_0x1c6f;if(_0x224242[_0x2b23db(0x245)]){_0x45a9ef(new Error(_0x2b23db(0x2b2)));return;}_0x224242[_0x2b23db(0x209)](_0x202f5f,_0x343c42=>{if(_0x343c42)_0x45a9ef(_0x343c42);else _0x5a7cbe();});});},'close'(){const _0x143ab9=_0x89f638;!_0x224242[_0x143ab9(0x245)]&&_0x224242[_0x143ab9(0x1c5)]();},'abort'(_0x3eb090){const _0x19058f=_0x89f638;_0x224242[_0x19058f(0x2ab)](_0x3eb090);}})};}function relay(_0x1a7498,_0x5567ee,_0x203e90,_0xec5a8f){const _0x5ca2c1=_0x4cdb15,_0x102879=pipe_relay();let _0x19d922=![];const _0x4c3b53=socketToWebStream(_0x203e90);function _0x53fd32(){const _0x53cf0b=_0x1c6f;if(!_0x19d922){_0x19d922=!![];try{_0x203e90[_0x53cf0b(0x2ab)]();}catch(_0x44eb4b){!_0x44eb4b[_0x53cf0b(0x1b2)]['includes']('aborted')&&!_0x44eb4b[_0x53cf0b(0x1b2)]['includes'](_0x53cf0b(0x257))&&log('error',_0x53cf0b(0x270)+_0x44eb4b[_0x53cf0b(0x1b2)]);}}}const _0x32d0d8=_0x102879(_0x5567ee,_0x4c3b53,_0xec5a8f[_0x5ca2c1(0x1b6)])['catch'](_0x28d526=>{const _0x4a0c3e=_0x5ca2c1;!_0x28d526[_0x4a0c3e(0x1b2)]['includes']('aborted')&&!_0x28d526['message'][_0x4a0c3e(0x2a9)](_0x4a0c3e(0x257))&&log(_0x4a0c3e(0x28f),_0x4a0c3e(0x243)+_0x28d526[_0x4a0c3e(0x1b2)]);})[_0x5ca2c1(0x2bd)](()=>{const _0x1dfd3e=_0x5ca2c1;_0x5567ee['reading_done']&&_0x5567ee[_0x1dfd3e(0x22f)]();}),_0x42d29c=_0x102879(_0x4c3b53,_0x5567ee,_0xec5a8f[_0x5ca2c1(0x22a)])['catch'](_0x2c4b79=>{const _0x434805=_0x5ca2c1;!_0x2c4b79[_0x434805(0x1b2)]['includes'](_0x434805(0x29d))&&!_0x2c4b79[_0x434805(0x1b2)]['includes'](_0x434805(0x257))&&log(_0x434805(0x28f),_0x434805(0x233)+_0x2c4b79[_0x434805(0x1b2)]);});_0x42d29c['finally'](()=>_0x32d0d8)[_0x5ca2c1(0x2bd)](_0x53fd32);}const sessions=new Map();class Session{constructor(_0xafabe1){const _0x3bb192=_0x4cdb15;this[_0x3bb192(0x236)]=_0xafabe1,this[_0x3bb192(0x27e)]=0x0,this['downstreamStarted']=![],this[_0x3bb192(0x1d1)]=Date['now'](),this['vlessHeader']=null,this[_0x3bb192(0x1db)]=null,this[_0x3bb192(0x265)]=![],this['responseHeader']=null,this[_0x3bb192(0x1da)]=![],this['bufferedData']=new Map(),this[_0x3bb192(0x289)]=![],this[_0x3bb192(0x1d4)]=[],this['currentStreamRes']=null,this[_0x3bb192(0x272)]=new Map(),log(_0x3bb192(0x2ae),'Created\x20new\x20session\x20with\x20UUID:\x20'+_0xafabe1);}async[_0x4cdb15(0x29c)](_0x4a9751){const _0x2cabba=_0x4cdb15;if(this['initialized'])return!![];try{log(_0x2cabba(0x2ae),_0x2cabba(0x26f));const _0x3f0b93=new ReadableStream({'start'(_0x538218){const _0x8af679=_0x2cabba;_0x538218[_0x8af679(0x2a4)](_0x4a9751),_0x538218[_0x8af679(0x291)]();}}),_0x45a0b8={'readable':_0x3f0b93,'writable':new WritableStream()};return this['vlessHeader']=await parse_header(SETTINGS[_0x2cabba(0x2a1)],_0x45a0b8),log(_0x2cabba(0x201),_0x2cabba(0x1e8)+this[_0x2cabba(0x22b)][_0x2cabba(0x1dd)]+':'+this[_0x2cabba(0x22b)][_0x2cabba(0x24d)]),this['remote']=await connect_remote(this[_0x2cabba(0x22b)][_0x2cabba(0x1dd)],this[_0x2cabba(0x22b)][_0x2cabba(0x24d)]),log(_0x2cabba(0x201),_0x2cabba(0x28d)),this[_0x2cabba(0x265)]=!![],!![];}catch(_0x522486){return log(_0x2cabba(0x28f),_0x2cabba(0x1bd)+_0x522486['message']),![];}}async[_0x4cdb15(0x2c2)](_0x588cd4,_0x526221){const _0x3977df=_0x4cdb15;try{this[_0x3977df(0x272)][_0x3977df(0x1d7)](_0x588cd4,_0x526221),log('debug',_0x3977df(0x230)+_0x588cd4+_0x3977df(0x206)+_0x526221['length']);while(this[_0x3977df(0x272)][_0x3977df(0x238)](this[_0x3977df(0x27e)])){const _0x3f8a7b=this[_0x3977df(0x272)][_0x3977df(0x2c9)](this['nextSeq']);this['pendingBuffers'][_0x3977df(0x23f)](this[_0x3977df(0x27e)]);if(!this[_0x3977df(0x265)]&&this[_0x3977df(0x27e)]===0x0){if(!await this[_0x3977df(0x29c)](_0x3f8a7b))throw new Error(_0x3977df(0x21f));this[_0x3977df(0x208)]=Buffer['from'](this[_0x3977df(0x22b)]['resp']),await this[_0x3977df(0x29a)](this[_0x3977df(0x22b)]['data']),this[_0x3977df(0x20e)]&&this[_0x3977df(0x277)]();}else{if(!this['initialized']){log(_0x3977df(0x262),_0x3977df(0x279)+_0x588cd4+_0x3977df(0x21e));continue;}await this[_0x3977df(0x29a)](_0x3f8a7b);}this[_0x3977df(0x27e)]++,log(_0x3977df(0x2ae),_0x3977df(0x281)+(this[_0x3977df(0x27e)]-0x1));}if(this[_0x3977df(0x272)][_0x3977df(0x1b3)]>SETTINGS[_0x3977df(0x1eb)])throw new Error(_0x3977df(0x216));return!![];}catch(_0x2cd94a){log('error',_0x3977df(0x210)+_0x2cd94a[_0x3977df(0x1b2)]);throw _0x2cd94a;}}[_0x4cdb15(0x277)](){const _0xacc13a=_0x4cdb15;if(!this[_0xacc13a(0x20e)]||!this[_0xacc13a(0x208)])return;try{const _0x57314c=this[_0xacc13a(0x20e)]['socket']?.[_0xacc13a(0x244)]||_0xacc13a(0x226),_0x459471=_0x57314c==='h2';!this[_0xacc13a(0x1da)]&&(log(_0xacc13a(0x2ae),_0xacc13a(0x2b3)+_0x57314c+'):\x20'+this[_0xacc13a(0x208)][_0xacc13a(0x1f6)]+_0xacc13a(0x284)),this[_0xacc13a(0x20e)][_0xacc13a(0x209)](this[_0xacc13a(0x208)]),this[_0xacc13a(0x1da)]=!![]);if(_0x459471){this[_0xacc13a(0x20e)][_0xacc13a(0x20d)][_0xacc13a(0x269)](!![]);const _0x219046=new require(_0xacc13a(0x276))['Transform']({'transform'(_0x8e79c7,_0x349200,_0x206a10){const _0x4d8b27=_0xacc13a,_0x17142c=0x4000;for(let _0x76e893=0x0;_0x76e893<_0x8e79c7[_0x4d8b27(0x1f6)];_0x76e893+=_0x17142c){this[_0x4d8b27(0x296)](_0x8e79c7[_0x4d8b27(0x1f4)](_0x76e893,_0x76e893+_0x17142c));}_0x206a10();}});this[_0xacc13a(0x1db)]['pipe'](_0x219046)[_0xacc13a(0x256)](this[_0xacc13a(0x20e)]);}else this[_0xacc13a(0x1db)]['pipe'](this[_0xacc13a(0x20e)]);this[_0xacc13a(0x1db)]['on'](_0xacc13a(0x1c5),()=>{const _0x837ba0=_0xacc13a;!this[_0x837ba0(0x20e)][_0x837ba0(0x205)]&&this[_0x837ba0(0x20e)]['end']();}),this[_0xacc13a(0x1db)]['on'](_0xacc13a(0x28f),_0x1c192c=>{const _0x2632c7=_0xacc13a;log('error',_0x2632c7(0x1d6)+_0x1c192c[_0x2632c7(0x1b2)]),!this[_0x2632c7(0x20e)][_0x2632c7(0x205)]&&this['currentStreamRes'][_0x2632c7(0x1c5)]();});}catch(_0x3a76b2){log('error','Error\x20starting\x20downstream:\x20'+_0x3a76b2['message']),this[_0xacc13a(0x28e)]();}}[_0x4cdb15(0x1c6)](_0x4026da,_0x134bda){const _0x5b2448=_0x4cdb15;return!_0x4026da[_0x5b2448(0x293)]&&_0x4026da[_0x5b2448(0x221)](0xc8,_0x134bda),this[_0x5b2448(0x20e)]=_0x4026da,this[_0x5b2448(0x265)]&&this[_0x5b2448(0x208)]&&this['_startDownstreamResponse'](),_0x4026da['on'](_0x5b2448(0x291),()=>{const _0x2b9708=_0x5b2448;log(_0x2b9708(0x201),_0x2b9708(0x1ca)),this['cleanup']();}),!![];}async[_0x4cdb15(0x29a)](_0x2569c6){const _0x473a44=_0x4cdb15;if(!this['remote']||this[_0x473a44(0x1db)][_0x473a44(0x245)])throw new Error(_0x473a44(0x225));return new Promise((_0x4f0055,_0x108b3a)=>{const _0x3a6602=_0x473a44;this['remote'][_0x3a6602(0x209)](_0x2569c6,_0x397a16=>{const _0x3afc49=_0x3a6602;_0x397a16?(log(_0x3afc49(0x28f),_0x3afc49(0x2bf)+_0x397a16[_0x3afc49(0x1b2)]),_0x108b3a(_0x397a16)):_0x4f0055();});});}['_startDownstreamResponse'](){const _0xa5d690=_0x4cdb15;if(!this[_0xa5d690(0x20e)]||!this[_0xa5d690(0x208)])return;try{!this[_0xa5d690(0x1da)]&&(this[_0xa5d690(0x20e)]['write'](this[_0xa5d690(0x208)]),this[_0xa5d690(0x1da)]=!![]),this[_0xa5d690(0x1db)][_0xa5d690(0x256)](this[_0xa5d690(0x20e)]),this[_0xa5d690(0x1db)]['on'](_0xa5d690(0x1c5),()=>{const _0x3c23af=_0xa5d690;!this[_0x3c23af(0x20e)]['writableEnded']&&this['currentStreamRes'][_0x3c23af(0x1c5)]();}),this[_0xa5d690(0x1db)]['on']('error',_0x4216af=>{const _0x177447=_0xa5d690;log(_0x177447(0x28f),_0x177447(0x1d6)+_0x4216af[_0x177447(0x1b2)]),!this[_0x177447(0x20e)][_0x177447(0x205)]&&this[_0x177447(0x20e)]['end']();});}catch(_0xcc6799){log(_0xa5d690(0x28f),_0xa5d690(0x1cc)+_0xcc6799['message']),this['cleanup']();}}[_0x4cdb15(0x28e)](){const _0x593eb7=_0x4cdb15;!this[_0x593eb7(0x289)]&&(this[_0x593eb7(0x289)]=!![],log(_0x593eb7(0x2ae),_0x593eb7(0x1b8)+this['uuid']),this[_0x593eb7(0x1db)]&&(this[_0x593eb7(0x1db)][_0x593eb7(0x2ab)](),this[_0x593eb7(0x1db)]=null),this[_0x593eb7(0x265)]=![],this['headerSent']=![]);}}async function getCloudflareMeta(){return new Promise((_0x4840fc,_0x3125da)=>{const _0xeeda24=_0x1c6f,_0x9366f2={'hostname':_0xeeda24(0x2c3),'path':'/meta','method':'GET'},_0x4295cc=https['request'](_0x9366f2,_0x74ea32=>{const _0x459175=_0xeeda24;let _0x5efd66='';_0x74ea32['on'](_0x459175(0x1b6),_0x597ac9=>{_0x5efd66+=_0x597ac9;}),_0x74ea32['on'](_0x459175(0x1c5),()=>{const _0x1ededa=_0x459175,_0x4241da=JSON[_0x1ededa(0x2a8)](_0x5efd66);_0x4840fc(_0x4241da);});});_0x4295cc['on'](_0xeeda24(0x28f),_0x53a7a5=>{_0x3125da(_0x53a7a5);}),_0x4295cc[_0xeeda24(0x1c5)]();});}let UPLOAD_DATA;async function generateLinks(){const _0x27b14a=_0x4cdb15;let _0x447952=await getCloudflareMeta(),_0x45f34e=_0x447952[_0x27b14a(0x28c)],_0x46a1d3=_0x447952[_0x27b14a(0x1d2)],_0x1e2a10=_0x447952[_0x27b14a(0x248)];ISP=(_0x46a1d3+'-'+_0x1e2a10)['replace'](/ /g,'_');let _0x5db559,_0x167916;if(MY_DOMAIN&&!LOCAL_DOMAIN)_0x5db559=MY_DOMAIN,_0x167916=PORT;else{if(LOCAL_DOMAIN&&!MY_DOMAIN)_0x5db559=LOCAL_DOMAIN,_0x167916='80';else!MY_DOMAIN&&!LOCAL_DOMAIN&&(_0x45f34e[_0x27b14a(0x2a9)](':')?_0x5db559='['+_0x45f34e+']':_0x5db559=''+_0x45f34e,_0x167916=PORT);}return HTTPSTLS?UPLOAD_DATA=_0x27b14a(0x1b7)+UUID+'@'+CFIP+':'+CFPORT+_0x27b14a(0x25c)+_0x5db559+'&fp=chrome&allowInsecure=1&type=xhttp&host='+_0x5db559+'&path='+SETTINGS['XPATH']+'&mode=packet-up#'+ISP+'-'+SUB_NAME:UPLOAD_DATA=_0x27b14a(0x1b7)+UUID+'@'+_0x5db559+':'+_0x167916+_0x27b14a(0x2a7)+_0x5db559+_0x27b14a(0x1cd)+_0x5db559+_0x27b14a(0x1e1)+SETTINGS[_0x27b14a(0x290)]+_0x27b14a(0x1f7)+ISP+'-'+SUB_NAME,UPLOAD_DATA;}const server=http[_0x4cdb15(0x1df)]((_0x4c9339,_0x3ed301)=>{const _0x33068a=_0x4cdb15,_0x17a42e={'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'GET,\x20POST','Cache-Control':_0x33068a(0x246),'X-Accel-Buffering':'no','X-Padding':generatePadding(0x64,0x3e8)};if(_0x4c9339[_0x33068a(0x1c8)]==='/'){_0x3ed301['writeHead'](0xc8,{'Content-Type':_0x33068a(0x20c)}),_0x3ed301[_0x33068a(0x1c5)](_0x33068a(0x21d));return;}if(_0x4c9339['url']==='/'+UUID){const _0x5664fc=''+UPLOAD_DATA,_0x441d8c=Buffer[_0x33068a(0x263)](_0x5664fc)[_0x33068a(0x1b4)](_0x33068a(0x217));_0x3ed301['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x3ed301[_0x33068a(0x1c5)](_0x441d8c+'\x0a');return;}const _0x343bcd=_0x4c9339['url'][_0x33068a(0x283)](new RegExp(XPATH+_0x33068a(0x298)));if(!_0x343bcd){_0x3ed301[_0x33068a(0x221)](0x194),_0x3ed301['end']();return;}const _0x52bb6d=_0x343bcd[0x1],_0x529f28=_0x343bcd[0x2]?parseInt(_0x343bcd[0x2]):null;if(_0x4c9339[_0x33068a(0x1dc)]===_0x33068a(0x267)&&!_0x529f28){_0x17a42e[_0x33068a(0x261)]=_0x33068a(0x20a),_0x17a42e[_0x33068a(0x2b8)]=_0x33068a(0x1d8);let _0x1da487=sessions[_0x33068a(0x2c9)](_0x52bb6d);!_0x1da487&&(_0x1da487=new Session(_0x52bb6d),sessions[_0x33068a(0x1d7)](_0x52bb6d,_0x1da487),log('info','Created\x20new\x20session\x20for\x20GET:\x20'+_0x52bb6d));_0x1da487[_0x33068a(0x224)]=!![];!_0x1da487[_0x33068a(0x1c6)](_0x3ed301,_0x17a42e)&&(log('error',_0x33068a(0x26a)+_0x52bb6d),!_0x3ed301[_0x33068a(0x293)]&&(_0x3ed301['writeHead'](0x1f4),_0x3ed301['end']()),_0x1da487[_0x33068a(0x28e)](),sessions[_0x33068a(0x23f)](_0x52bb6d));return;}if(_0x4c9339[_0x33068a(0x1dc)]===_0x33068a(0x227)&&_0x529f28!==null){let _0x236191=sessions[_0x33068a(0x2c9)](_0x52bb6d);!_0x236191&&(_0x236191=new Session(_0x52bb6d),sessions[_0x33068a(0x1d7)](_0x52bb6d,_0x236191),log(_0x33068a(0x201),_0x33068a(0x266)+_0x52bb6d),setTimeout(()=>{const _0x4a9f30=_0x33068a,_0x48e16b=sessions['get'](_0x52bb6d);_0x48e16b&&!_0x48e16b[_0x4a9f30(0x224)]&&(log(_0x4a9f30(0x262),_0x4a9f30(0x294)+_0x52bb6d+_0x4a9f30(0x271)),_0x48e16b[_0x4a9f30(0x28e)](),sessions['delete'](_0x52bb6d));},SETTINGS[_0x33068a(0x20b)]));let _0x34c5c9=[],_0x27a118=0x0,_0x140e03=![];_0x4c9339['on'](_0x33068a(0x1b6),_0x2c2534=>{const _0x3067b4=_0x33068a;_0x27a118+=_0x2c2534[_0x3067b4(0x1f6)];if(_0x27a118>SETTINGS[_0x3067b4(0x214)]){!_0x140e03&&(_0x3ed301[_0x3067b4(0x221)](0x19d),_0x3ed301[_0x3067b4(0x1c5)](),_0x140e03=!![]);return;}_0x34c5c9['push'](_0x2c2534);}),_0x4c9339['on']('end',async()=>{const _0x499ad1=_0x33068a;if(_0x140e03)return;try{const _0x37e0c5=Buffer[_0x499ad1(0x1ff)](_0x34c5c9);log(_0x499ad1(0x201),_0x499ad1(0x23b)+_0x529f28+_0x499ad1(0x206)+_0x37e0c5[_0x499ad1(0x1f6)]),await _0x236191[_0x499ad1(0x2c2)](_0x529f28,_0x37e0c5),!_0x140e03&&(_0x3ed301['writeHead'](0xc8,_0x17a42e),_0x140e03=!![]),_0x3ed301['end']();}catch(_0x571b5d){log(_0x499ad1(0x28f),_0x499ad1(0x282)+_0x571b5d[_0x499ad1(0x1b2)]),_0x236191[_0x499ad1(0x28e)](),sessions[_0x499ad1(0x23f)](_0x52bb6d),!_0x140e03&&(_0x3ed301[_0x499ad1(0x221)](0x1f4),_0x140e03=!![]),_0x3ed301[_0x499ad1(0x1c5)]();}});return;}_0x3ed301[_0x33068a(0x221)](0x194),_0x3ed301['end']();});server['on']('secureConnection',_0xf8a4aa=>{const _0x2208bd=_0x4cdb15;log(_0x2208bd(0x2ae),_0x2208bd(0x2bc)+(_0xf8a4aa[_0x2208bd(0x244)]||_0x2208bd(0x226)));});function _0x2aa5(){const _0x2659bd=['MAX_POST_SIZE','Failed\x20to\x20parse\x20hostname','Too\x20many\x20buffered\x20packets','base64','join','/config.yml','header\x20length\x20too\x20short','Read\x20controller\x20error:','fill','Hello,\x20World\x0a','\x20before\x20initialization','Failed\x20to\x20initialize\x20VLESS\x20connection','isDirectory','writeHead','false','name','downstreamStarted','Remote\x20connection\x20not\x20available','http/1.1','POST','application/json;\x20charset=utf-8','/config.yml\x20>/dev/null\x202>&1\x20&','resp','vlessHeader','--tls','connect\x20timeout','4tWNLwF','reading_done','Buffered\x20packet\x20seq=','44vbMsoF','74918TGkfwC','Download\x20error:\x20','https://github.com/kahunama/myfile/releases/download/main/nezha-agent','createWriteStream','uuid','lstatSync','has','random','none','Processing\x20packet:\x20seq=','Socket\x20error:','Command\x20failed:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','delete','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','\x1b[33m','writeFileSync','Upload\x20error:\x20','alpnProtocol','destroyed','no-store','invalid\x20UUID','asOrganization','1040UvNXZK','bufferSize','replaceAll','env','port','keepAliveTimeout','App\x20is\x20running','Connected\x20to\x20','TCP_KEEPALIVE','tmp','\x20-p\x20','read\x20vless\x20header\x20error:\x20','timeout','pipe','socket\x20hang\x20up','forEach','arm','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','?encryption=none&security=tls&sni=','pipeTo','443','chmodSync','pause','Content-Type','warn','from','writable','initialized','Created\x20new\x20session\x20for\x20POST:\x20','GET',',\x20response:\x20','setNoDelay','Failed\x20to\x20start\x20downstream\x20for\x20session:\x20','true','reset','742325ABnpEa','2053','Initializing\x20VLESS\x20connection\x20from\x20first\x20packet','Cleanup\x20error:\x20','\x20timed\x20out\x20without\x20downstream','pendingBuffers','pgrep\x20-x\x20\x22','request','substr','stream','_startDownstreamResponse','floor','Received\x20out\x20of\x20order\x20packet\x20seq=','Relay\x20error:','existsSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','amd','nextSeq',']\x20[','Kill\x20failed:\x20','Processed\x20packet\x20seq=','Failed\x20to\x20process\x20POST\x20request:\x20','match','\x20bytes','createConnection','Upload\x20failed:','%2F','constructor','cleaned','setKeepAlive','nohup\x20','clientIp','Remote\x20connection\x20established','cleanup','error','XPATH','close','1250121vKEowk','headersSent','Session\x20','NEZHA_PORT','push','parse\x20hostname\x20failed','/([^/]+)(?:/([0-9]+))?$','fileName','_writeToRemote','originalName','initializeVLESS','aborted','clear','mkdirSync','Process\x20not\x20found','UUID','TIME','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','enqueue','\x1b[36m','success','?encryption=none&security=none&sni=','parse','includes','map','destroy','app','releaseLock','debug','HTTPSTLS','resume','pidof','Socket\x20is\x20destroyed','Sending\x20VLESS\x20response\x20header\x20(','filePath','nextTick','SUB_URL','stderr','Transfer-Encoding','stringify','2096','net','New\x20secure\x20connection\x20using:\x20','finally','23093fxYKCB','Failed\x20to\x20write\x20to\x20remote:\x20','\x20-s\x20','statusMessage','processPacket','speed.cloudflare.com','value','Can\x27t\x20determine\x20system\x20architecture.','Server\x20error:\x20','cork','8443','get','HTTP\x20error!\x20status:\x20','\x1b[31m','aarch64','message','size','toString','arm64','data','vless://','Cleaning\x20up\x20session\x20','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','path','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','NEZHA_SERVER','Failed\x20to\x20initialize\x20VLESS:\x20','log','CFPORT','done','Killed\x20process\x20(PIDs:\x20','121pdGxuX','\x1b[32m','BUFFER_SIZE','end','startDownstream','2810316ETKQhK','url','code','Client\x20connection\x20closed','decode','Error\x20starting\x20downstream:\x20','&fp=chrome&allowInsecure=1&type=xhttp&host=','read','LOG_LEVEL','PORT','lastActivity','country','\x20running\x20error:\x20','pendingPackets','\x27\x20not\x20found','Remote\x20error:\x20','set','chunked','11621370GljdIH','headerSent','remote','method','hostname','NEZHA_KEY','createServer','CHUNK_SIZE','&path=','\x20-c\x20','3781416WetomJ','readable','all','client_secret:\x20','Error\x20downloading\x20files:','VLESS\x20header\x20parsed:\x20','Attempting\x20to\x20kill\x20process:\x20','connect','MAX_BUFFERED_POSTS','9LOPkHV','Starting\x20to\x20parse\x20VLESS\x20header','Process\x20\x27','getReader','[detectProcess]\x20','app\x20file\x20not\x20found,\x20skip\x20running','statusCode','read\x20address\x20type\x20failed','slice','buffer','length','&mode=packet-up#','7160b696-dd5e-42e3-a024-145e92cec916','rmSync','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','child_process','trim','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','upload\x20failed:','concat','Read\x20controller\x20close\x20error:','info','Server\x20is\x20running\x20on\x20port\x20','SUB_NAME','listen','writableEnded',',\x20size=','unlinkSync','responseHeader','write','application/octet-stream','SESSION_TIMEOUT','text/plain','socket','currentStreamRes','Connection\x20failed:\x20','Process\x20packet\x20error:\x20','KEEPALIVE','MY_DOMAIN','pidof\x20\x22'];_0x2aa5=function(){return _0x2659bd;};return _0x2aa5();}function generatePadding(_0x54f0a6,_0x3e83e3){const _0xf7ac8a=_0x4cdb15,_0x3e8e73=_0x54f0a6+Math[_0xf7ac8a(0x278)](Math[_0xf7ac8a(0x239)]()*(_0x3e83e3-_0x54f0a6));return Buffer[_0xf7ac8a(0x263)](Array(_0x3e8e73)[_0xf7ac8a(0x21c)]('X')[_0xf7ac8a(0x218)](''))[_0xf7ac8a(0x1b4)](_0xf7ac8a(0x217));}server[_0x4cdb15(0x24e)]=0x975e0,server['headersTimeout']=0x98968,server['on'](_0x4cdb15(0x28f),_0x5e00c0=>{const _0x483abb=_0x4cdb15;log(_0x483abb(0x28f),_0x483abb(0x2c6)+_0x5e00c0['message']);});async function uploadSubscription(_0x3fff70,_0x134076,_0x39af05){const _0x5e91de=_0x4cdb15,_0x1b82b0=JSON[_0x5e91de(0x2b9)]({'URL_NAME':_0x3fff70,'URL':_0x134076}),_0x27f1a0=Buffer[_0x5e91de(0x263)](_0x1b82b0,'utf8'),_0x335b41=_0x27f1a0[_0x5e91de(0x1f6)],_0x1bdf10=new URL(_0x39af05),_0x1b888e={'hostname':_0x1bdf10[_0x5e91de(0x1dd)],'port':_0x1bdf10[_0x5e91de(0x24d)]||0x1bb,'path':_0x1bdf10['pathname'],'method':_0x5e91de(0x227),'headers':{'Content-Type':_0x5e91de(0x228),'Content-Length':_0x335b41}};try{const _0x1afdf1=await new Promise((_0xd24f4d,_0x55f5d5)=>{const _0x429261=_0x5e91de,_0x29e87b=https[_0x429261(0x274)](_0x1b888e,_0x4c2014=>{const _0x2b4670=_0x429261;if(_0x4c2014[_0x2b4670(0x1f2)]<0xc8||_0x4c2014['statusCode']>=0x12c)return _0x55f5d5(new Error(_0x2b4670(0x2ca)+_0x4c2014[_0x2b4670(0x1f2)]+_0x2b4670(0x268)+_0x4c2014[_0x2b4670(0x2c1)]));let _0x5e9e2e='';_0x4c2014['on'](_0x2b4670(0x1b6),_0x56640f=>_0x5e9e2e+=_0x56640f),_0x4c2014['on'](_0x2b4670(0x1c5),()=>_0xd24f4d(_0x5e9e2e));});_0x29e87b['on']('error',_0x329cc7=>_0x55f5d5(_0x329cc7)),_0x29e87b[_0x429261(0x209)](_0x27f1a0),_0x29e87b['end']();});return _0x1afdf1;}catch(_0x174f2a){console[_0x5e91de(0x28f)](_0x5e91de(0x286),_0x174f2a[_0x5e91de(0x1b2)]);}}function cleanfiles(){setTimeout(()=>{const _0x1fd340=_0x1c6f;let _0x13804f;KEEPALIVE?_0x13804f=[]:_0x13804f=[FILE_PATH+'/'+fileMapping[_0x1fd340(0x2ac)],FILE_PATH+_0x1fd340(0x219)],_0x13804f[_0x1fd340(0x258)](_0x110cb2=>{const _0xe7af22=_0x1fd340;try{fs[_0xe7af22(0x27b)](_0x110cb2)&&(fs[_0xe7af22(0x237)](_0x110cb2)[_0xe7af22(0x220)]()?fs[_0xe7af22(0x1f9)](_0x110cb2,{'recursive':!![]}):fs[_0xe7af22(0x207)](_0x110cb2));}catch(_0x5c8e92){}}),console[_0x1fd340(0x29e)](),console[_0x1fd340(0x1be)](_0x1fd340(0x24f));},0xea60);}server[_0x4cdb15(0x204)](PORT,async()=>{const _0x307392=_0x4cdb15;await generateLinks(),createFolder(FILE_PATH);NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION&&(await downloadFiles(),await delay(0x1388));await run(),cleanfiles(),console[_0x307392(0x1be)](_0x307392(0x202)+PORT);if(SUB_URL)try{const _0x1b9d6f=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);}catch(_0x19c761){console['error'](_0x307392(0x1fe),_0x19c761);}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));});